<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Minha Conta</ion-title>
    <ion-buttons slot="end">
      <ion-menu-button menu="account"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="ion-no-padding" *ngIf="model$ | async as model">
    <ng-container *ngIf="model; else loading">
      <ion-row class="ion-justify-content-center">
        <!-- PERFIL -->
        <ion-col size-xl="6" size-lg="8" size-md="8" size-sm="10" size-xs="12">
          <ion-card>
            <ion-grid>
              <ion-row class="ion-justify-content-center">
                <ion-col
                  size-xl="2"
                  size-lg="2"
                  size-md="3"
                  size-sm="4"
                  size-xs="4"
                  class="ion-no-padding"
                >
                  <ion-img
                    class="image-perfil"
                    [src]="model.photoURL || 'assets/imgs/noavatar.png'"
                  ></ion-img>
                  <!-- <ion-button fill="clear" expand="full" (click)="upload(model)">
                    <ion-icon name="camera" slot="icon-only" size="large"></ion-icon>
                  </ion-button> -->
                </ion-col>
              </ion-row>
            </ion-grid>
            <ion-card-header class="ion-text-center">
              <ion-card-title>{{ model.displayName }}</ion-card-title>
              <ion-card-subtitle>{{ model.email }}</ion-card-subtitle>
            </ion-card-header>
            <!-- VIP -->
            <ion-item lines="none" *ngIf="model.isVip">
              <ion-thumbnail slot="start">
                <ion-img src="assets/icons/vip.svg"></ion-img>
              </ion-thumbnail>
              <ion-label>
                <h2>Status</h2>
                <p>VIP</p>
              </ion-label>
              <small slot="end" class="ion-text-center">
                {{ model.createdVip | moment: 'DD/MM' }}<br />
                {{ model.createdVip | moment: 'YYYY' }}
              </small>
            </ion-item>
          </ion-card>
        </ion-col>
      </ion-row>

      <ng-template #loading>
        <ion-progress-bar type="indeterminate"></ion-progress-bar>
        <div class="empty-results">
          <h2 class="no-default">Configurando...</h2>
          <ion-spinner name="dots"></ion-spinner>
        </div>
      </ng-template>
    </ng-container>
  </ion-grid>
</ion-content>
